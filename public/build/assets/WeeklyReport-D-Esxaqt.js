import{j as e}from"./app-CxGSB-fu.js";import{i as f,e as y,f as v,m as S,n as D}from"./index-DeQNj7PW.js";const W=({gajiGuru:a,filters:o,week_start:h,week_end:m})=>{const[l,k]=useState(o.search||""),[s,n]=useState(h||""),[d,c]=useState(m||""),p=t=>{t.preventDefault(),router.get("/gaji/guru/weekly",{search:l,week_start:s,week_end:d},{preserveState:!0})},b=()=>{router.get("/gaji/guru/weekly",{search:l,week_start:s,week_end:d},{preserveState:!0})},u=()=>{window.location.href=`/gaji/guru/export-excel?search=${l}&week_start=${s}&week_end=${d}`},g=()=>{window.location.href=`/gaji/guru/export-pdf?search=${l}&week_start=${s}&week_end=${d}`},r=t=>!t||t===0?"-":new Intl.NumberFormat("id-ID").format(t),x=t=>new Date(t).toLocaleDateString("id-ID",{day:"2-digit",month:"2-digit",year:"numeric"}),w=()=>{const t=new Date,i=new Date(t.setDate(t.getDate()-t.getDay()+1)),N=new Date(t.setDate(t.getDate()-t.getDay()+7));return{start:i.toISOString().split("T")[0],end:N.toISOString().split("T")[0]}},j=()=>{const t=w();n(t.start),c(t.end),router.get("/gaji/guru/weekly",{search:l,week_start:t.start,week_end:t.end},{preserveState:!0})};return e.jsxs(DefaultLayout,{children:[e.jsx(Head,{title:"Laporan Penggajian Guru - Per Minggu"}),e.jsxs("div",{className:"rounded-sm border border-stroke bg-white shadow-default dark:border-strokedark dark:bg-boxdark",children:[e.jsx("div",{className:"border-b border-stroke py-4 px-6.5 dark:border-strokedark",children:e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs(Link,{href:"/gaji/guru",className:"inline-flex items-center gap-2 text-primary hover:text-primary/80",children:[e.jsx(f,{className:"text-sm"}),e.jsx("span",{children:"Kembali"})]}),e.jsx("h3",{className:"font-semibold text-black dark:text-white text-xl",children:"Laporan Penggajian Guru - Per Minggu"})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[e.jsxs("button",{onClick:u,className:"inline-flex items-center gap-2 rounded bg-success py-2 px-4 text-white hover:bg-opacity-90 transition duration-300",children:[e.jsx(y,{className:"text-lg"}),"Download Excel"]}),e.jsxs("button",{onClick:g,className:"inline-flex items-center gap-2 rounded bg-danger py-2 px-4 text-white hover:bg-opacity-90 transition duration-300",children:[e.jsx(v,{className:"text-lg"}),"Download PDF"]})]})]})}),e.jsxs("div",{className:"border-b border-stroke py-4 px-6.5 dark:border-strokedark",children:[e.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 flex-1",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 items-start sm:items-center",children:[e.jsx("label",{className:"text-sm font-medium text-black dark:text-white whitespace-nowrap",children:"Pilih Minggu:"}),e.jsxs("div",{className:"flex gap-2 items-center",children:[e.jsx("input",{type:"date",value:s,onChange:t=>n(t.target.value),className:"rounded border border-stroke py-1.5 px-3 text-black focus:border-primary focus-visible:outline-none dark:border-strokedark dark:bg-meta-4 dark:text-white"}),e.jsx("span",{className:"text-sm text-black dark:text-white",children:"sampai"}),e.jsx("input",{type:"date",value:d,onChange:t=>c(t.target.value),className:"rounded border border-stroke py-1.5 px-3 text-black focus:border-primary focus-visible:outline-none dark:border-strokedark dark:bg-meta-4 dark:text-white"}),e.jsxs("button",{onClick:b,className:"inline-flex items-center gap-1 rounded bg-primary py-1.5 px-3 text-white hover:bg-opacity-90 transition duration-300",children:[e.jsx(S,{className:"text-sm"}),"Terapkan"]})]})]}),e.jsx("button",{onClick:j,className:"inline-flex items-center gap-2 rounded bg-secondary py-1.5 px-3 text-white hover:bg-opacity-90 transition duration-300 text-sm",children:"Minggu Ini"})]}),e.jsxs("form",{onSubmit:p,className:"flex gap-2",children:[e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",placeholder:"Cari tanggal, hari, atau nama guru...",value:l,onChange:t=>k(t.target.value),className:"w-full rounded border border-stroke py-2 pl-10 pr-4 text-black focus:border-primary focus-visible:outline-none dark:border-strokedark dark:bg-meta-4 dark:text-white"}),e.jsx(D,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-body dark:text-bodydark"})]}),e.jsx("button",{type:"submit",className:"inline-flex items-center gap-2 rounded bg-primary py-2 px-4 text-white hover:bg-opacity-90 transition duration-300",children:"Cari"})]})]}),s&&d&&e.jsx("div",{className:"mt-3 p-3 bg-gray-50 dark:bg-meta-4 rounded",children:e.jsxs("p",{className:"text-sm text-black dark:text-white",children:[e.jsx("span",{className:"font-medium",children:"Periode:"})," ",x(s)," - ",x(d)]})})]}),e.jsxs("div",{className:"p-6.5",children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full table-auto",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-2 text-left dark:bg-meta-4",children:[e.jsx("th",{className:"py-4 px-4 font-medium text-black dark:text-white xl:pl-11 min-w-[120px]",children:"Tanggal"}),e.jsx("th",{className:"py-4 px-4 font-medium text-black dark:text-white min-w-[80px]",children:"Hari"}),e.jsx("th",{className:"py-4 px-4 font-medium text-black dark:text-white min-w-[100px]",children:"Gina"}),e.jsx("th",{className:"py-4 px-4 font-medium text-black dark:text-white min-w-[100px]",children:"Amel"}),e.jsx("th",{className:"py-4 px-4 font-medium text-black dark:text-white min-w-[100px]",children:"Lia"}),e.jsx("th",{className:"py-4 px-4 font-medium text-black dark:text-white min-w-[100px]",children:"Siti"}),e.jsx("th",{className:"py-4 px-4 font-medium text-black dark:text-white min-w-[100px]",children:"Nurul"}),e.jsx("th",{className:"py-4 px-4 font-medium text-black dark:text-white min-w-[100px]",children:"Hikma"}),e.jsx("th",{className:"py-4 px-4 font-medium text-black dark:text-white min-w-[100px]",children:"Safa"}),e.jsx("th",{className:"py-4 px-4 font-medium text-black dark:text-white min-w-[100px]",children:"Khoir"}),e.jsx("th",{className:"py-4 px-4 font-medium text-black dark:text-white min-w-[100px]",children:"Sarah"}),e.jsx("th",{className:"py-4 px-4 font-medium text-black dark:text-white min-w-[100px]",children:"Indri"}),e.jsx("th",{className:"py-4 px-4 font-medium text-black dark:text-white min-w-[100px]",children:"Aminah"}),e.jsx("th",{className:"py-4 px-4 font-medium text-black dark:text-white min-w-[100px]",children:"Rina"}),e.jsx("th",{className:"py-4 px-4 font-medium text-black dark:text-white min-w-[120px]",children:"Total"})]})}),e.jsx("tbody",{children:a.data&&a.data.length>0?a.data.map((t,i)=>e.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-meta-4",children:[e.jsx("td",{className:"border-b border-[#eee] py-5 px-4 pl-9 dark:border-strokedark xl:pl-11",children:e.jsx("div",{className:"font-medium text-black dark:text-white",children:x(t.tanggal)})}),e.jsx("td",{className:"border-b border-[#eee] py-5 px-4 dark:border-strokedark",children:e.jsx("span",{className:"inline-flex rounded-full bg-success bg-opacity-10 py-1 px-3 text-sm font-medium text-success",children:t.hari})}),e.jsx("td",{className:"border-b border-[#eee] py-5 px-4 dark:border-strokedark",children:e.jsx("p",{className:"text-black dark:text-white text-right",children:r(t.gina)})}),e.jsx("td",{className:"border-b border-[#eee] py-5 px-4 dark:border-strokedark",children:e.jsx("p",{className:"text-black dark:text-white text-right",children:r(t.amel)})}),e.jsx("td",{className:"border-b border-[#eee] py-5 px-4 dark:border-strokedark",children:e.jsx("p",{className:"text-black dark:text-white text-right",children:r(t.lia)})}),e.jsx("td",{className:"border-b border-[#eee] py-5 px-4 dark:border-strokedark",children:e.jsx("p",{className:"text-black dark:text-white text-right",children:r(t.siti)})}),e.jsx("td",{className:"border-b border-[#eee] py-5 px-4 dark:border-strokedark",children:e.jsx("p",{className:"text-black dark:text-white text-right",children:r(t.nurul)})}),e.jsx("td",{className:"border-b border-[#eee] py-5 px-4 dark:border-strokedark",children:e.jsx("p",{className:"text-black dark:text-white text-right",children:r(t.hikma)})}),e.jsx("td",{className:"border-b border-[#eee] py-5 px-4 dark:border-strokedark",children:e.jsx("p",{className:"text-black dark:text-white text-right",children:r(t.safa)})}),e.jsx("td",{className:"border-b border-[#eee] py-5 px-4 dark:border-strokedark",children:e.jsx("p",{className:"text-black dark:text-white text-right",children:r(t.khoir)})}),e.jsx("td",{className:"border-b border-[#eee] py-5 px-4 dark:border-strokedark",children:e.jsx("p",{className:"text-black dark:text-white text-right",children:r(t.sarah)})}),e.jsx("td",{className:"border-b border-[#eee] py-5 px-4 dark:border-strokedark",children:e.jsx("p",{className:"text-black dark:text-white text-right",children:r(t.indri)})}),e.jsx("td",{className:"border-b border-[#eee] py-5 px-4 dark:border-strokedark",children:e.jsx("p",{className:"text-black dark:text-white text-right",children:r(t.aminah)})}),e.jsx("td",{className:"border-b border-[#eee] py-5 px-4 dark:border-strokedark",children:e.jsx("p",{className:"text-black dark:text-white text-right",children:r(t.rina)})}),e.jsx("td",{className:"border-b border-[#eee] py-5 px-4 dark:border-strokedark",children:e.jsx("p",{className:"text-black dark:text-white font-semibold text-right",children:r(t.total)})})]},i)):e.jsx("tr",{children:e.jsx("td",{colSpan:"15",className:"border-b border-[#eee] py-10 text-center dark:border-strokedark",children:e.jsx("p",{className:"text-black dark:text-white",children:"Tidak ada data untuk minggu yang dipilih"})})})})]})}),a.links&&e.jsxs("div",{className:"flex justify-between items-center mt-4",children:[e.jsxs("p",{className:"text-sm text-black dark:text-white",children:["Menampilkan ",a.from||0," sampai ",a.to||0," dari ",a.total||0," data"]}),e.jsx("div",{className:"flex gap-2",children:a.links.map((t,i)=>e.jsx(Link,{href:t.url||"#",className:`px-3 py-1 text-sm rounded ${t.active?"bg-primary text-white":"bg-gray-2 text-black dark:bg-meta-4 dark:text-white hover:bg-gray-3"} ${t.url?"":"opacity-50 cursor-not-allowed"}`,dangerouslySetInnerHTML:{__html:t.label}},i))})]})]})]})]})};export{W as default};
