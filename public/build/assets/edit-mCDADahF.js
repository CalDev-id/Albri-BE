import{q as p,W as f,j as a,Y as h}from"./app-D3WCyhkI.js";import{D as g}from"./DefaultLayout-Bw__pnZL.js";import"./index-D1csOlho.js";const y=()=>{var u;const{laporanMitra:t,paketMitra:o}=p().props,n={};(u=t.pakets)==null||u.forEach(e=>{var r;n[e.id]=((r=e.pivot)==null?void 0:r.jumlah)||0});const{data:l,setData:s,put:m,errors:v}=f({hari:t.hari,tanggal:t.tanggal,pakets:n,daftar:t.daftar,modul:t.modul,kaos:t.kaos,kas:t.kas,lainlain:t.lainlain}),b=e=>{e.preventDefault(),m(`/admin/laporan/mitra/${t.id}`)},c=(e,r)=>{s("pakets",{...l.pakets,[e]:r})},d=e=>{e.target.value==="0"&&(e.target.value="")},i=(e,r)=>{(e.target.value===""||e.target.value===null||e.target.value===void 0)&&s(r,0)},x=e=>{e.target.value==="0"&&(e.target.value="")},k=(e,r)=>{(e.target.value===""||e.target.value===null||e.target.value===void 0)&&c(r,0)};return a.jsxs(g,{children:[a.jsx(h,{title:"Edit Laporan Pemasukan Mitra"}),a.jsx("div",{className:"flex flex-col gap-9",children:a.jsxs("div",{className:"rounded-sm border border-stroke bg-white shadow-default dark:border-strokedark dark:bg-boxdark",children:[a.jsx("div",{className:"border-b border-stroke px-6.5 py-4 dark:border-strokedark",children:a.jsx("h3",{className:"font-medium text-black dark:text-white",children:"Edit Laporan Pemasukan Mitra"})}),a.jsx("form",{onSubmit:b,children:a.jsxs("div",{className:"p-6.5",children:[a.jsxs("div",{className:"mb-4.5 flex flex-col gap-6 xl:flex-row",children:[a.jsxs("div",{className:"w-full",children:[a.jsx("label",{className:"mb-3 block text-sm font-medium text-black dark:text-white",children:"Hari"}),a.jsx("select",{className:"select select-bordered w-full",value:l.hari,onChange:e=>s("hari",e.target.value),children:["Senin","Selasa","Rabu","Kamis","Jumat","Sabtu","Minggu"].map(e=>a.jsx("option",{value:e,children:e},e))})]}),a.jsxs("div",{className:"w-full",children:[a.jsx("label",{className:"mb-3 block text-sm font-medium text-black dark:text-white",children:"Tanggal"}),a.jsx("input",{type:"date",className:"w-full rounded border px-3 py-2",value:l.tanggal,onChange:e=>s("tanggal",e.target.value)})]})]}),a.jsxs("div",{className:"mb-4.5",children:[a.jsx("label",{className:"mb-3 block text-sm font-medium text-black dark:text-white",children:"Paket"}),o&&o.map(e=>a.jsxs("div",{className:"mb-3",children:[a.jsxs("label",{className:"block text-sm text-black dark:text-white",children:[e.nama_paket," (Rp ",parseInt(e.harga).toLocaleString("id-ID"),")"]}),a.jsx("input",{type:"number",min:"0",className:"w-full rounded border-[1.5px] border-stroke bg-transparent px-5 py-3 text-black outline-none transition focus:border-primary active:border-primary disabled:cursor-default disabled:bg-whiter dark:border-form-strokedark dark:bg-form-input dark:text-white dark:focus:border-primary",value:l.pakets[e.id]||0,onChange:r=>c(e.id,r.target.value),onFocus:x,onBlur:r=>k(r,e.id)})]},e.id))]}),a.jsxs("div",{className:"mb-4.5 flex flex-col gap-6 xl:flex-row",children:[a.jsx("div",{className:"w-full xl:w-1/2",children:a.jsxs("div",{className:"mb-4.5",children:[a.jsx("label",{className:"mb-3 block text-sm font-medium text-black dark:text-white",children:"Pendaftaran"}),a.jsx("input",{type:"number",value:l.daftar,onChange:e=>s("daftar",e.target.value),onFocus:d,onBlur:e=>i(e,"daftar"),className:"w-full rounded border-[1.5px] border-stroke bg-transparent px-5 py-3 text-black outline-none transition focus:border-primary active:border-primary disabled:cursor-default disabled:bg-whiter dark:border-form-strokedark dark:bg-form-input dark:text-white dark:focus:border-primary"})]})}),a.jsx("div",{className:"w-full xl:w-1/2",children:a.jsxs("div",{className:"mb-4.5",children:[a.jsx("label",{className:"mb-3 block text-sm font-medium text-black dark:text-white",children:"Modul"}),a.jsx("input",{type:"number",value:l.modul,onChange:e=>s("modul",e.target.value),onFocus:d,onBlur:e=>i(e,"modul"),className:"w-full rounded border-[1.5px] border-stroke bg-transparent px-5 py-3 text-black outline-none transition focus:border-primary active:border-primary disabled:cursor-default disabled:bg-whiter dark:border-form-strokedark dark:bg-form-input dark:text-white dark:focus:border-primary"})]})})]}),a.jsxs("div",{className:"mb-4.5 flex flex-col gap-6 xl:flex-row",children:[a.jsx("div",{className:"w-full xl:w-1/2",children:a.jsxs("div",{className:"mb-4.5",children:[a.jsx("label",{className:"mb-3 block text-sm font-medium text-black dark:text-white",children:"Kaos"}),a.jsx("input",{type:"number",value:l.kaos,onChange:e=>s("kaos",e.target.value),onFocus:d,onBlur:e=>i(e,"kaos"),className:"w-full rounded border-[1.5px] border-stroke bg-transparent px-5 py-3 text-black outline-none transition focus:border-primary active:border-primary disabled:cursor-default disabled:bg-whiter dark:border-form-strokedark dark:bg-form-input dark:text-white dark:focus:border-primary"})]})}),a.jsx("div",{className:"w-full xl:w-1/2",children:a.jsxs("div",{className:"mb-4.5",children:[a.jsx("label",{className:"mb-3 block text-sm font-medium text-black dark:text-white",children:"Kas"}),a.jsx("input",{type:"number",value:l.kas,onChange:e=>s("kas",e.target.value),onFocus:d,onBlur:e=>i(e,"kas"),className:"w-full rounded border-[1.5px] border-stroke bg-transparent px-5 py-3 text-black outline-none transition focus:border-primary active:border-primary disabled:cursor-default disabled:bg-whiter dark:border-form-strokedark dark:bg-form-input dark:text-white dark:focus:border-primary"})]})})]}),a.jsx("div",{className:"mb-4.5",children:a.jsx("div",{className:"w-full",children:a.jsxs("div",{className:"mb-4.5",children:[a.jsx("label",{className:"mb-3 block text-sm font-medium text-black dark:text-white",children:"Lain Lain"}),a.jsx("input",{type:"number",value:l.lainlain,onChange:e=>s("lainlain",e.target.value),onFocus:d,onBlur:e=>i(e,"lainlain"),className:"w-full rounded border-[1.5px] border-stroke bg-transparent px-5 py-3 text-black outline-none transition focus:border-primary active:border-primary disabled:cursor-default disabled:bg-whiter dark:border-form-strokedark dark:bg-form-input dark:text-white dark:focus:border-primary"})]})})}),a.jsx("button",{type:"submit",className:"flex w-full justify-center rounded bg-primary p-3 font-medium text-gray hover:bg-opacity-90",children:"Update"})]})})]})})]})};export{y as default};
