<<<<<<<< HEAD:public/build/assets/TablePengeluaran-DfSf_1rM.js
import{q as N,j as t,a as n}from"./app-DPBPjsud.js";import{F as w,a as g}from"./index-dX6QUltf.js";import{d as u}from"./index-CDcaZBKG.js";import{u as o,w as L}from"./xlsx-DjuO7_Ju.js";const C=()=>{const{laporanPengeluaranCabang:r,startOfWeek:k,endOfWeek:p,nextWeekOffset:b,prevWeekOffset:j}=N().props,m=a=>{u.Inertia.get(route("admin.laporan.cabang"),{weekOffset:a})},i=a=>r.data.reduce((l,s)=>a==="gaji"?s.gurus&&s.gurus.length>0?l+s.gurus.reduce((c,d)=>c+(d.gaji||0),0):l+(s.gaji||0):l+(s[a]||0),0),f=(a,l)=>{const s=a.data.map(e=>({Hari:e.hari,Tanggal:e.tanggal,Cabang:e.cabang?e.cabang.nama:"N/A","Nama Guru":e.user?e.user.name:"N/A",Gaji:e.gaji||0,ATK:e.atk||0,Sewa:e.sewa||0,Intensif:e.intensif||0,Lisensi:e.lisensi||0,THR:e.thr||0,"Lain Lain":e.lainlain||0,Total:e.totalpengeluaran||0})),c={Hari:"Total",Tanggal:"",Cabang:"","Nama Guru":"",Gaji:s.reduce((e,x)=>e+x.Gaji,0),ATK:s.reduce((e,x)=>e+x.ATK,0),Sewa:s.reduce((e,x)=>e+x.Sewa,0),Intensif:s.reduce((e,x)=>e+x.Intensif,0),Lisensi:s.reduce((e,x)=>e+x.Lisensi,0),THR:s.reduce((e,x)=>e+x.THR,0),"Lain Lain":s.reduce((e,x)=>e+x["Lain Lain"],0),Total:s.reduce((e,x)=>e+x.Total,0)};s.push(c);const d=o.json_to_sheet(s),h=o.book_new();o.book_append_sheet(h,d,"Pengeluaran");const y=`Laporan_Pengeluaran_cabang_${l}.xlsx`;L(h,y)};return t.jsxs("div",{className:"col-span-12 rounded-sm border border-stroke bg-white py-6 shadow-default dark:border-strokedark dark:bg-boxdark mt-20",children:[t.jsxs("div",{className:"flex justify-between px-7.5 mb-6",children:[t.jsx("h4",{className:"text-xl font-semibold text-black dark:text-white",children:"Laporan Pengeluaran Cabang"}),t.jsxs("div",{children:[t.jsx(n,{href:"/admin/laporan/pengeluaran/create",children:t.jsx("button",{className:"bg-primary text-white px-4 py-2 rounded hover:bg-opacity-90",children:"Tambah Pengeluaran"})}),t.jsx("button",{onClick:()=>f(r,`${k} sampai ${p}`),className:"bg-green-500 text-white px-4 py-2 rounded ml-2 hover:bg-green-600",children:"Download Excel"})]})]}),t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full table-auto",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"bg-gray-2 dark:bg-meta-4",children:[t.jsx("th",{className:"py-4 px-4 text-left text-sm font-medium text-black dark:text-white pl-10",children:"Hari"}),t.jsx("th",{className:"py-4 px-4 text-left text-sm font-medium text-black dark:text-white",children:"Tanggal"}),t.jsx("th",{className:"py-4 px-4 text-left text-sm font-medium text-black dark:text-white",children:"Cabang"}),t.jsx("th",{className:"py-4 px-4 text-left text-sm font-medium text-black dark:text-white",children:"Pembuat"}),t.jsx("th",{className:"py-4 px-4 text-left text-sm font-medium text-black dark:text-white",children:"Gaji"}),t.jsx("th",{className:"py-4 px-4 text-left text-sm font-medium text-black dark:text-white",children:"ATK"}),t.jsx("th",{className:"py-4 px-4 text-left text-sm font-medium text-black dark:text-white",children:"Sewa"}),t.jsx("th",{className:"py-4 px-4 text-left text-sm font-medium text-black dark:text-white",children:"Intensif"}),t.jsx("th",{className:"py-4 px-4 text-left text-sm font-medium text-black dark:text-white",children:"Lisensi"}),t.jsx("th",{className:"py-4 px-4 text-left text-sm font-medium text-black dark:text-white",children:"THR"}),t.jsx("th",{className:"py-4 px-4 text-left text-sm font-medium text-black dark:text-white",children:"Lain Lain"}),t.jsx("th",{className:"py-4 px-4 text-left text-sm font-medium text-black dark:text-white",children:"Total"}),t.jsx("th",{className:"py-4 px-4 text-center text-sm font-medium text-black dark:text-white",children:"Actions"})]})}),t.jsx("tbody",{children:r.data.map((a,l)=>t.jsxs("tr",{className:"border-b border-stroke dark:border-strokedark",children:[t.jsx("td",{className:"py-4 px-4 text-sm text-black dark:text-white pl-10",children:a.hari}),t.jsx("td",{className:"py-4 px-4 text-sm text-black dark:text-white",children:a.tanggal}),t.jsx("td",{className:"py-4 px-4 text-sm text-black dark:text-white",children:a.cabang?a.cabang.nama:"N/A"}),t.jsx("td",{className:"py-4 px-4 text-sm text-black dark:text-white",children:a.user?a.user.name:"N/A"}),t.jsx("td",{className:"py-4 px-4 text-sm text-black dark:text-white",children:a.gurus.length>0?a.gurus.map(s=>t.jsxs("div",{children:[s.guru_nama," - Rp ",s.gaji.toLocaleString()]},s.id)):"N/A"}),t.jsx("td",{className:"py-4 px-4 text-sm text-black dark:text-white",children:a.atk.toLocaleString()}),t.jsx("td",{className:"py-4 px-4 text-sm text-black dark:text-white",children:a.sewa.toLocaleString()}),t.jsx("td",{className:"py-4 px-4 text-sm text-black dark:text-white",children:a.intensif.toLocaleString()}),t.jsx("td",{className:"py-4 px-4 text-sm text-black dark:text-white",children:a.lisensi.toLocaleString()}),t.jsx("td",{className:"py-4 px-4 text-sm text-black dark:text-white",children:a.thr.toLocaleString()}),t.jsx("td",{className:"py-4 px-4 text-sm text-black dark:text-white",children:a.lainlain.toLocaleString()}),t.jsx("td",{className:"py-4 px-4 text-sm text-black dark:text-white",children:a.totalpengeluaran.toLocaleString()}),t.jsx("td",{className:"py-4 px-4 text-center",children:t.jsxs("div",{className:"flex justify-center gap-3",children:[t.jsx(n,{href:`/admin/laporan/pengeluaran/${a.id}/edit`,children:t.jsx(w,{className:"text-yellow-500 hover:text-yellow-700 cursor-pointer"})}),t.jsx(n,{href:`/admin/laporan/pengeluaran/${a.id}`,method:"delete",as:"button",data:{id:a.id},onClick:s=>{confirm("Are you sure you want to delete this item?")||s.preventDefault()},children:t.jsx(g,{className:"text-red-500 hover:text-red-700 cursor-pointer"})})]})})]},l))}),t.jsx("tfoot",{children:t.jsxs("tr",{className:"bg-gray-2 dark:bg-meta-4 font-semibold",children:[t.jsx("td",{colSpan:"4",className:"py-4 px-4 text-left text-sm font-medium text-black dark:text-white pl-10",children:"Total"}),t.jsx("td",{className:"py-4 px-4 text-sm text-black dark:text-white",children:i("gaji").toLocaleString()}),t.jsx("td",{className:"py-4 px-4 text-sm text-black dark:text-white",children:i("atk").toLocaleString()}),t.jsx("td",{className:"py-4 px-4 text-sm text-black dark:text-white",children:i("sewa").toLocaleString()}),t.jsx("td",{className:"py-4 px-4 text-sm text-black dark:text-white",children:i("intensif").toLocaleString()}),t.jsx("td",{className:"py-4 px-4 text-sm text-black dark:text-white",children:i("lisensi").toLocaleString()}),t.jsx("td",{className:"py-4 px-4 text-sm text-black dark:text-white",children:i("thr").toLocaleString()}),t.jsx("td",{className:"py-4 px-4 text-sm text-black dark:text-white",children:i("lainlain").toLocaleString()}),t.jsx("td",{className:"py-4 px-4 text-sm text-black dark:text-white",children:i("totalpengeluaran").toLocaleString()}),t.jsx("td",{className:"py-4 px-4"})]})})]})}),t.jsxs("div",{className:"flex justify-center gap-3 mt-4",children:[t.jsx("button",{onClick:()=>m(j),className:"py-2 px-4 bg-gray-300 text-gray-700 rounded hover:bg-gray-400",children:"Sebelumnya"}),t.jsx("button",{onClick:()=>m(b),className:"py-2 px-4 bg-gray-300 text-gray-700 rounded hover:bg-gray-400",children:"Selanjutnya"})]})]})};export{C as default};
========
import{q as N,j as t,a as n}from"./app-CxGSB-fu.js";import{F as w,a as g}from"./index-DeQNj7PW.js";import{d as u}from"./index-DM5UpuYt.js";import{u as o,w as L}from"./xlsx-DjuO7_Ju.js";const C=()=>{const{laporanPengeluaranCabang:r,startOfWeek:k,endOfWeek:p,nextWeekOffset:b,prevWeekOffset:j}=N().props,m=a=>{u.Inertia.get(route("admin.laporan.cabang"),{weekOffset:a})},i=a=>r.data.reduce((l,s)=>a==="gaji"?s.gurus&&s.gurus.length>0?l+s.gurus.reduce((c,d)=>c+(d.gaji||0),0):l+(s.gaji||0):l+(s[a]||0),0),f=(a,l)=>{const s=a.data.map(e=>({Hari:e.hari,Tanggal:e.tanggal,Cabang:e.cabang?e.cabang.nama:"N/A","Nama Guru":e.user?e.user.name:"N/A",Gaji:e.gaji||0,ATK:e.atk||0,Sewa:e.sewa||0,Intensif:e.intensif||0,Lisensi:e.lisensi||0,THR:e.thr||0,"Lain Lain":e.lainlain||0,Total:e.totalpengeluaran||0})),c={Hari:"Total",Tanggal:"",Cabang:"","Nama Guru":"",Gaji:s.reduce((e,x)=>e+x.Gaji,0),ATK:s.reduce((e,x)=>e+x.ATK,0),Sewa:s.reduce((e,x)=>e+x.Sewa,0),Intensif:s.reduce((e,x)=>e+x.Intensif,0),Lisensi:s.reduce((e,x)=>e+x.Lisensi,0),THR:s.reduce((e,x)=>e+x.THR,0),"Lain Lain":s.reduce((e,x)=>e+x["Lain Lain"],0),Total:s.reduce((e,x)=>e+x.Total,0)};s.push(c);const d=o.json_to_sheet(s),h=o.book_new();o.book_append_sheet(h,d,"Pengeluaran");const y=`Laporan_Pengeluaran_cabang_${l}.xlsx`;L(h,y)};return t.jsxs("div",{className:"col-span-12 rounded-sm border border-stroke bg-white py-6 shadow-default dark:border-strokedark dark:bg-boxdark mt-20",children:[t.jsxs("div",{className:"flex justify-between px-7.5 mb-6",children:[t.jsx("h4",{className:"text-xl font-semibold text-black dark:text-white",children:"Laporan Pengeluaran Cabang"}),t.jsxs("div",{children:[t.jsx(n,{href:"/admin/laporan/pengeluaran/create",children:t.jsx("button",{className:"bg-primary text-white px-4 py-2 rounded hover:bg-opacity-90",children:"Tambah Pengeluaran"})}),t.jsx("button",{onClick:()=>f(r,`${k} sampai ${p}`),className:"bg-green-500 text-white px-4 py-2 rounded ml-2 hover:bg-green-600",children:"Download Excel"})]})]}),t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full table-auto",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"bg-gray-2 dark:bg-meta-4",children:[t.jsx("th",{className:"py-4 px-4 text-left text-sm font-medium text-black dark:text-white pl-10",children:"Hari"}),t.jsx("th",{className:"py-4 px-4 text-left text-sm font-medium text-black dark:text-white",children:"Tanggal"}),t.jsx("th",{className:"py-4 px-4 text-left text-sm font-medium text-black dark:text-white",children:"Cabang"}),t.jsx("th",{className:"py-4 px-4 text-left text-sm font-medium text-black dark:text-white",children:"Pembuat"}),t.jsx("th",{className:"py-4 px-4 text-left text-sm font-medium text-black dark:text-white",children:"Gaji"}),t.jsx("th",{className:"py-4 px-4 text-left text-sm font-medium text-black dark:text-white",children:"ATK"}),t.jsx("th",{className:"py-4 px-4 text-left text-sm font-medium text-black dark:text-white",children:"Sewa"}),t.jsx("th",{className:"py-4 px-4 text-left text-sm font-medium text-black dark:text-white",children:"Intensif"}),t.jsx("th",{className:"py-4 px-4 text-left text-sm font-medium text-black dark:text-white",children:"Lisensi"}),t.jsx("th",{className:"py-4 px-4 text-left text-sm font-medium text-black dark:text-white",children:"THR"}),t.jsx("th",{className:"py-4 px-4 text-left text-sm font-medium text-black dark:text-white",children:"Lain Lain"}),t.jsx("th",{className:"py-4 px-4 text-left text-sm font-medium text-black dark:text-white",children:"Total"}),t.jsx("th",{className:"py-4 px-4 text-center text-sm font-medium text-black dark:text-white",children:"Actions"})]})}),t.jsx("tbody",{children:r.data.map((a,l)=>t.jsxs("tr",{className:"border-b border-stroke dark:border-strokedark",children:[t.jsx("td",{className:"py-4 px-4 text-sm text-black dark:text-white pl-10",children:a.hari}),t.jsx("td",{className:"py-4 px-4 text-sm text-black dark:text-white",children:a.tanggal}),t.jsx("td",{className:"py-4 px-4 text-sm text-black dark:text-white",children:a.cabang?a.cabang.nama:"N/A"}),t.jsx("td",{className:"py-4 px-4 text-sm text-black dark:text-white",children:a.user?a.user.name:"N/A"}),t.jsx("td",{className:"py-4 px-4 text-sm text-black dark:text-white",children:a.gurus.length>0?a.gurus.map(s=>t.jsxs("div",{children:[s.guru_nama," - Rp ",s.gaji.toLocaleString()]},s.id)):"N/A"}),t.jsx("td",{className:"py-4 px-4 text-sm text-black dark:text-white",children:a.atk.toLocaleString()}),t.jsx("td",{className:"py-4 px-4 text-sm text-black dark:text-white",children:a.sewa.toLocaleString()}),t.jsx("td",{className:"py-4 px-4 text-sm text-black dark:text-white",children:a.intensif.toLocaleString()}),t.jsx("td",{className:"py-4 px-4 text-sm text-black dark:text-white",children:a.lisensi.toLocaleString()}),t.jsx("td",{className:"py-4 px-4 text-sm text-black dark:text-white",children:a.thr.toLocaleString()}),t.jsx("td",{className:"py-4 px-4 text-sm text-black dark:text-white",children:a.lainlain.toLocaleString()}),t.jsx("td",{className:"py-4 px-4 text-sm text-black dark:text-white",children:a.totalpengeluaran.toLocaleString()}),t.jsx("td",{className:"py-4 px-4 text-center",children:t.jsxs("div",{className:"flex justify-center gap-3",children:[t.jsx(n,{href:`/admin/laporan/pengeluaran/${a.id}/edit`,children:t.jsx(w,{className:"text-yellow-500 hover:text-yellow-700 cursor-pointer"})}),t.jsx(n,{href:`/admin/laporan/pengeluaran/${a.id}`,method:"delete",as:"button",data:{id:a.id},onClick:s=>{confirm("Are you sure you want to delete this item?")||s.preventDefault()},children:t.jsx(g,{className:"text-red-500 hover:text-red-700 cursor-pointer"})})]})})]},l))}),t.jsx("tfoot",{children:t.jsxs("tr",{className:"bg-gray-2 dark:bg-meta-4 font-semibold",children:[t.jsx("td",{colSpan:"4",className:"py-4 px-4 text-left text-sm font-medium text-black dark:text-white pl-10",children:"Total"}),t.jsx("td",{className:"py-4 px-4 text-sm text-black dark:text-white",children:i("gaji").toLocaleString()}),t.jsx("td",{className:"py-4 px-4 text-sm text-black dark:text-white",children:i("atk").toLocaleString()}),t.jsx("td",{className:"py-4 px-4 text-sm text-black dark:text-white",children:i("sewa").toLocaleString()}),t.jsx("td",{className:"py-4 px-4 text-sm text-black dark:text-white",children:i("intensif").toLocaleString()}),t.jsx("td",{className:"py-4 px-4 text-sm text-black dark:text-white",children:i("lisensi").toLocaleString()}),t.jsx("td",{className:"py-4 px-4 text-sm text-black dark:text-white",children:i("thr").toLocaleString()}),t.jsx("td",{className:"py-4 px-4 text-sm text-black dark:text-white",children:i("lainlain").toLocaleString()}),t.jsx("td",{className:"py-4 px-4 text-sm text-black dark:text-white",children:i("totalpengeluaran").toLocaleString()}),t.jsx("td",{className:"py-4 px-4"})]})})]})}),t.jsxs("div",{className:"flex justify-center gap-3 mt-4",children:[t.jsx("button",{onClick:()=>m(j),className:"py-2 px-4 bg-gray-300 text-gray-700 rounded hover:bg-gray-400",children:"Sebelumnya"}),t.jsx("button",{onClick:()=>m(b),className:"py-2 px-4 bg-gray-300 text-gray-700 rounded hover:bg-gray-400",children:"Selanjutnya"})]})]})};export{C as default};
>>>>>>>> 7ba683b29899470a9bcc910837b1637138954cb0:public/build/assets/TablePengeluaran-CiQ6trEF.js
