import{q as b,W as x,r as p,j as e}from"./app-DYDPL5Ve.js";import{D as h}from"./DefaultLayout-eRbKo6FJ.js";import"./index-Wnk5kL6P.js";const k=()=>{const{cabangs:t,pakets:d}=b().props,i=new Date().toISOString().split("T")[0],c=d.reduce((a,l)=>(a[l.id]=0,a),{}),{data:s,setData:r,post:o}=x({hari:"Senin",tanggal:i,cabang_id:t.length>0?t[0].id:"",pakets:c,daftar:0,modul:0,kaos:0,kas:0,lainlain:0});p.useEffect(()=>{t.length>0&&!s.cabang_id&&r(a=>({...a,cabang_id:t[0].id}))},[t]);const m=a=>{a.preventDefault(),o("/admin/laporan/cabang/store")},u=(a,l)=>{r("pakets",{...s.pakets,[a]:l})};return e.jsx(h,{children:e.jsx("div",{className:"flex flex-col gap-9",children:e.jsxs("div",{className:"rounded-sm border border-stroke bg-white shadow-default dark:border-strokedark dark:bg-boxdark",children:[e.jsx("div",{className:"border-b border-stroke px-6.5 py-4 dark:border-strokedark",children:e.jsx("h3",{className:"font-medium text-black dark:text-white",children:"Laporan Pemasukan Cabang"})}),e.jsx("form",{onSubmit:m,children:e.jsxs("div",{className:"p-6.5",children:[e.jsxs("div",{className:"mb-4.5 flex flex-col gap-6 xl:flex-row",children:[e.jsxs("div",{className:"w-full",children:[e.jsx("label",{className:"mb-3 block text-sm font-medium",children:"Hari"}),e.jsx("select",{className:"select select-bordered w-full",value:s.hari,onChange:a=>r("hari",a.target.value),children:["Senin","Selasa","Rabu","Kamis","Jumat","Sabtu","Minggu"].map(a=>e.jsx("option",{value:a,children:a},a))})]}),e.jsxs("div",{className:"w-full",children:[e.jsx("label",{className:"mb-3 block text-sm font-medium",children:"Tanggal"}),e.jsx("input",{type:"date",className:"w-full rounded border px-3 py-2",value:s.tanggal,onChange:a=>r("tanggal",a.target.value)})]})]}),e.jsxs("div",{className:"mb-4.5",children:[e.jsx("label",{className:"mb-3 block text-sm font-medium",children:"Cabang"}),e.jsx("select",{className:"select select-bordered w-full",value:s.cabang_id,onChange:a=>r("cabang_id",a.target.value),children:t.map(a=>e.jsx("option",{value:a.id,children:a.nama},a.id))})]}),e.jsxs("div",{className:"mb-4.5",children:[e.jsx("label",{className:"mb-3 block text-sm font-medium",children:"Paket"}),d.map(a=>e.jsxs("div",{className:"mb-3",children:[e.jsxs("label",{className:"block text-sm text-black",children:[a.nama_paket," (Rp ",a.harga,")"]}),e.jsx("input",{type:"number",className:"w-full rounded border px-3 py-2",value:s.pakets[a.id]===0?"":s.pakets[a.id],placeholder:"0",onChange:l=>{const n=l.target.value;u(a.id,n===""?0:parseInt(n,10))}})]},a.id))]}),e.jsx("div",{className:"grid grid-cols-2 gap-4",children:["daftar","modul","kaos","kas","lainlain"].map(a=>e.jsxs("div",{children:[e.jsx("label",{className:"block mb-2 capitalize",children:a}),e.jsx("input",{type:"number",value:s[a]===0?"":s[a],placeholder:"0",onChange:l=>{const n=l.target.value;r(a,n===""?0:parseInt(n,10))},className:"w-full rounded border px-3 py-2"})]},a))}),e.jsx("button",{type:"submit",className:"mt-5 flex w-full justify-center rounded bg-primary p-3 font-medium text-gray hover:bg-opacity-90",children:"Submit"})]})})]})})})};export{k as default};
