import{q as k,W as v,r as j,j as e}from"./app-C7toNcdF.js";import{D as w}from"./DefaultLayout-Jqpwo9Ig.js";import"./index-BkdQejCc.js";const _=()=>{const{cabangs:d,users:c}=k().props,b=new Date().toISOString().split("T")[0],{data:a,setData:t,post:m,errors:N}=v({hari:"Senin",tanggal:b,cabang_id:d.length>0?d[0].id:"",guru_id:c.length>0?c[0].id:"",gurus:[{guru_id:"",gaji:0}],atk:0,sewa:0,intensif:0,lisensi:0,thr:0,lainlain:0}),x=()=>{t("gurus",[...a.gurus,{guru_id:"",gaji:0}])},p=r=>{if(a.gurus.length>1){const l=a.gurus.filter((s,n)=>n!==r);t("gurus",l)}},u=(r,l,s)=>{const n=[...a.gurus];n[r][l]=s,t("gurus",n)};j.useEffect(()=>{d.length>0&&!a.cabang_id&&t(r=>({...r,cabang_id:d[0].id}))},[d]);const h=r=>{r.preventDefault(),m("/admin/laporan/pengeluaran/store")},i=r=>{r.target.value==="0"&&(r.target.value="")},o=(r,l)=>{(r.target.value===""||r.target.value==="0")&&(t(l,0),r.target.value="0")},g=r=>{r.target.value==="0"&&(r.target.value="")},f=(r,l)=>{(r.target.value===""||r.target.value==="0")&&(u(l,"gaji",0),r.target.value="0")};return e.jsx(w,{children:e.jsx("div",{className:"flex flex-col gap-9",children:e.jsxs("div",{className:"rounded-sm border border-stroke bg-white shadow-default dark:border-strokedark dark:bg-boxdark",children:[e.jsx("div",{className:"border-b border-stroke px-6.5 py-4 dark:border-strokedark",children:e.jsx("h3",{className:"font-medium text-black dark:text-white",children:"Laporan Pengeluaran Cabang"})}),e.jsx("form",{onSubmit:h,children:e.jsxs("div",{className:"p-6.5",children:[e.jsxs("div",{className:"mb-4.5 flex flex-col gap-6 xl:flex-row",children:[e.jsxs("div",{className:"w-full",children:[e.jsx("label",{className:"mb-3 block text-sm font-medium text-black dark:text-white",children:"Hari"}),e.jsxs("select",{className:"select select-bordered w-full",value:a.hari,onChange:r=>t("hari",r.target.value),children:[e.jsx("option",{disabled:!0,selected:!0,children:"Pilih Hari"}),e.jsx("option",{value:"Senin",children:"Senin"}),e.jsx("option",{value:"Selasa",children:"Selasa"}),e.jsx("option",{value:"Rabu",children:"Rabu"}),e.jsx("option",{value:"Kamis",children:"Kamis"}),e.jsx("option",{value:"Jumat",children:"Jumat"}),e.jsx("option",{value:"Sabtu",children:"Sabtu"}),e.jsx("option",{value:"Minggu",children:"Minggu"})]})]}),e.jsxs("div",{className:"w-full",children:[e.jsx("label",{className:"mb-3 block text-sm font-medium text-black dark:text-white",children:"Tanggal"}),e.jsx("input",{type:"date",className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5",value:a.tanggal,onChange:r=>t("tanggal",r.target.value),placeholder:"Select date"})]})]}),e.jsx("div",{className:"mb-4.5 flex flex-col gap-6 xl:flex-row",children:e.jsxs("div",{className:"w-full",children:[e.jsx("label",{className:"mb-3 block text-sm font-medium text-black dark:text-white",children:"Cabang"}),e.jsxs("select",{className:"select select-bordered w-full",value:a.cabang_id,onChange:r=>t("cabang_id",r.target.value),children:[e.jsx("option",{disabled:!0,selected:!0,children:"Pilih Cabang"}),d.map(r=>e.jsx("option",{value:r.id,children:r.nama},r.id))]})]})}),e.jsxs("div",{className:"mb-4.5",children:[e.jsx("label",{className:"mb-3 block text-sm font-medium text-black dark:text-white",children:"Data Guru"}),a.gurus.map((r,l)=>e.jsxs("div",{className:"mb-3 flex flex-col gap-4 xl:flex-row xl:items-end",children:[e.jsx("div",{className:"w-full xl:w-1/2",children:e.jsx("input",{type:"text",value:r.guru_id,onChange:s=>u(l,"guru_id",s.target.value),className:"w-full rounded border-[1.5px] border-stroke bg-transparent px-5 py-3 text-black outline-none transition focus:border-primary active:border-primary disabled:cursor-default disabled:bg-whiter dark:border-form-strokedark dark:bg-form-input dark:text-white dark:focus:border-primary",placeholder:"Nama Guru"})}),e.jsx("div",{className:"w-full xl:w-1/2",children:e.jsx("input",{type:"number",value:r.gaji||0,onChange:s=>u(l,"gaji",s.target.value),onFocus:g,onBlur:s=>f(s,l),className:"w-full rounded border-[1.5px] border-stroke bg-transparent px-5 py-3 text-black outline-none transition focus:border-primary active:border-primary disabled:cursor-default disabled:bg-whiter dark:border-form-strokedark dark:bg-form-input dark:text-white dark:focus:border-primary",placeholder:"Gaji"})}),a.gurus.length>1&&e.jsx("div",{className:"xl:w-auto",children:e.jsx("button",{type:"button",onClick:()=>p(l),className:"rounded bg-red-600 px-4 py-3 text-white hover:bg-opacity-90",title:"Hapus Guru",children:"âœ•"})})]},l)),e.jsx("button",{type:"button",onClick:x,className:"mb-4 rounded bg-blue-600 px-6 py-2 text-white hover:bg-opacity-90",children:"+ Tambah Guru"})]}),e.jsx("div",{className:"mb-4.5 flex flex-col gap-6 xl:flex-row",children:e.jsx("div",{className:"w-full",children:e.jsxs("div",{className:"mb-4.5",children:[e.jsx("label",{className:"mb-3 block text-sm font-medium text-black dark:text-white",children:"ATK"}),e.jsx("input",{type:"number",value:a.atk,onChange:r=>t("atk",r.target.value),onFocus:i,onBlur:r=>o(r,"atk"),placeholder:"",className:"w-full rounded border-[1.5px] border-stroke bg-transparent px-5 py-3 text-black outline-none transition focus:border-primary active:border-primary disabled:cursor-default disabled:bg-whiter dark:border-form-strokedark dark:bg-form-input dark:text-white dark:focus:border-primary"})]})})}),e.jsxs("div",{className:"mb-4.5 flex flex-col gap-6 xl:flex-row",children:[e.jsx("div",{className:"w-full xl:w-1/2",children:e.jsxs("div",{className:"mb-4.5",children:[e.jsx("label",{className:"mb-3 block text-sm font-medium text-black dark:text-white",children:"sewa"}),e.jsx("input",{type:"number",value:a.sewa,onChange:r=>t("sewa",r.target.value),onFocus:i,onBlur:r=>o(r,"sewa"),placeholder:"sewa",className:"w-full rounded border-[1.5px] border-stroke bg-transparent px-5 py-3 text-black outline-none transition focus:border-primary active:border-primary disabled:cursor-default disabled:bg-whiter dark:border-form-strokedark dark:bg-form-input dark:text-white dark:focus:border-primary"})]})}),e.jsx("div",{className:"w-full xl:w-1/2",children:e.jsxs("div",{className:"mb-4.5",children:[e.jsx("label",{className:"mb-3 block text-sm font-medium text-black dark:text-white",children:"Intensif"}),e.jsx("input",{type:"number",value:a.intensif,onChange:r=>t("intensif",r.target.value),onFocus:i,onBlur:r=>o(r,"intensif"),placeholder:"",className:"w-full rounded border-[1.5px] border-stroke bg-transparent px-5 py-3 text-black outline-none transition focus:border-primary active:border-primary disabled:cursor-default disabled:bg-whiter dark:border-form-strokedark dark:bg-form-input dark:text-white dark:focus:border-primary"})]})})]}),e.jsxs("div",{className:"mb-4.5 flex flex-col gap-6 xl:flex-row",children:[e.jsx("div",{className:"w-full xl:w-1/2",children:e.jsxs("div",{className:"mb-4.5",children:[e.jsx("label",{className:"mb-3 block text-sm font-medium text-black dark:text-white",children:"Lisensi"}),e.jsx("input",{type:"number",value:a.lisensi,onChange:r=>t("lisensi",r.target.value),onFocus:i,onBlur:r=>o(r,"lisensi"),placeholder:"",className:"w-full rounded border-[1.5px] border-stroke bg-transparent px-5 py-3 text-black outline-none transition focus:border-primary active:border-primary disabled:cursor-default disabled:bg-whiter dark:border-form-strokedark dark:bg-form-input dark:text-white dark:focus:border-primary"})]})}),e.jsx("div",{className:"w-full xl:w-1/2",children:e.jsxs("div",{className:"mb-4.5",children:[e.jsx("label",{className:"mb-3 block text-sm font-medium text-black dark:text-white",children:"THR"}),e.jsx("input",{type:"number",value:a.thr,onChange:r=>t("thr",r.target.value),onFocus:i,onBlur:r=>o(r,"thr"),placeholder:"",className:"w-full rounded border-[1.5px] border-stroke bg-transparent px-5 py-3 text-black outline-none transition focus:border-primary active:border-primary disabled:cursor-default disabled:bg-whiter dark:border-form-strokedark dark:bg-form-input dark:text-white dark:focus:border-primary"})]})})]}),e.jsx("div",{className:"mb-4.5 flex flex-col gap-6 xl:flex-row",children:e.jsx("div",{className:"w-full xl:w-1/2",children:e.jsxs("div",{className:"mb-4.5",children:[e.jsx("label",{className:"mb-3 block text-sm font-medium text-black dark:text-white",children:"Lain Lain"}),e.jsx("input",{type:"number",value:a.lainlain,onChange:r=>t("lainlain",r.target.value),onFocus:i,onBlur:r=>o(r,"lainlain"),placeholder:"",className:"w-full rounded border-[1.5px] border-stroke bg-transparent px-5 py-3 text-black outline-none transition focus:border-primary active:border-primary disabled:cursor-default disabled:bg-whiter dark:border-form-strokedark dark:bg-form-input dark:text-white dark:focus:border-primary"})]})})}),e.jsx("button",{type:"submit",className:"flex w-full justify-center rounded bg-primary p-3 font-medium text-gray hover:bg-opacity-90",children:"Submit"})]})})]})})})};export{_ as default};
