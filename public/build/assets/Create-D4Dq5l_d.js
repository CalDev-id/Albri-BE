import{q as k,W as j,r as o,j as e}from"./app-C7toNcdF.js";import{D as N}from"./DefaultLayout-Jqpwo9Ig.js";import"./index-BkdQejCc.js";const C=()=>{const{paketPrivates:l}=k().props,d=new Date().toISOString().split("T")[0],{data:s,setData:r,post:c,errors:y}=j({hari:"Senin",tanggal:d,pakets:{},daftar:0,modul:0,kaos:0,kas:0,lainlain:0}),[w,u]=o.useState(0),[S,m]=o.useState(0);o.useEffect(()=>{let a=0;l&&l.length>0&&l.forEach(n=>{const f=parseInt(s.pakets[n.id])||0;a+=f*n.harga});const t=a+(parseInt(s.daftar)||0)+(parseInt(s.modul)||0)+(parseInt(s.kaos)||0)+(parseInt(s.kas)||0)+(parseInt(s.lainlain)||0);u(a),m(t)},[s,l]);const p=a=>{a.preventDefault(),c("/admin/laporan/private/store")},x=(a,t)=>{const n=parseInt(t)||0;r(a,n)},i=(a,t)=>{r("pakets",{...s.pakets,[a]:t})},b=a=>{a.target.value==="0"&&(a.target.value="")},h=(a,t)=>{(a.target.value===""||a.target.value===null||a.target.value===void 0)&&r(t,0)},g=a=>{a.target.value==="0"&&(a.target.value="")},v=(a,t)=>{(a.target.value===""||a.target.value===null||a.target.value===void 0)&&i(t,0)};return e.jsx(N,{children:e.jsx("div",{className:"flex flex-col gap-9",children:e.jsxs("div",{className:"rounded-sm border border-stroke bg-white shadow-default dark:border-strokedark dark:bg-boxdark",children:[e.jsx("div",{className:"border-b border-stroke px-6.5 py-4 dark:border-strokedark",children:e.jsx("h3",{className:"font-medium text-black dark:text-white",children:"Laporan Pemasukan Private"})}),e.jsx("form",{onSubmit:p,children:e.jsxs("div",{className:"p-6.5",children:[e.jsxs("div",{className:"mb-4.5 flex flex-col gap-6 xl:flex-row",children:[e.jsxs("div",{className:"w-full",children:[e.jsx("label",{className:"mb-3 block text-sm font-medium",children:"Hari"}),e.jsx("select",{className:"select select-bordered w-full",value:s.hari,onChange:a=>r("hari",a.target.value),children:["Senin","Selasa","Rabu","Kamis","Jumat","Sabtu","Minggu"].map(a=>e.jsx("option",{value:a,children:a},a))})]}),e.jsxs("div",{className:"w-full",children:[e.jsx("label",{className:"mb-3 block text-sm font-medium",children:"Tanggal"}),e.jsx("input",{type:"date",className:"w-full rounded border px-3 py-2",value:s.tanggal,onChange:a=>r("tanggal",a.target.value)})]})]}),e.jsxs("div",{className:"mb-4.5",children:[e.jsx("label",{className:"mb-3 block text-sm font-medium",children:"Paket"}),l&&l.map(a=>e.jsxs("div",{className:"mb-3",children:[e.jsxs("label",{className:"block text-sm text-black",children:[a.nama_paket," (Rp ",a.harga.toLocaleString(),")"]}),e.jsx("input",{type:"number",min:"0",className:"w-full rounded border px-3 py-2",value:s.pakets[a.id]||0,onChange:t=>i(a.id,t.target.value),onFocus:g,onBlur:t=>v(t,a.id)})]},a.id))]}),e.jsx("div",{className:"grid grid-cols-2 gap-4",children:["daftar","modul","kaos","kas","lainlain"].map(a=>e.jsxs("div",{children:[e.jsx("label",{className:"block mb-2 capitalize",children:a}),e.jsx("input",{type:"number",value:s[a],onChange:t=>x(a,t.target.value),onFocus:b,onBlur:t=>h(t,a),className:"w-full rounded border px-3 py-2"})]},a))}),e.jsx("button",{type:"submit",className:"mt-5 flex w-full justify-center rounded bg-primary p-3 font-medium text-gray hover:bg-opacity-90",children:"Submit"})]})})]})})})};export{C as default};
