import{q as p,W as f,j as a,Y as h}from"./app-BrqdZKT1.js";import{D as g}from"./DefaultLayout-IyYFagF3.js";import"./index-Cefiq4he.js";const y=()=>{const{paketMitra:o}=p().props,n=new Date().toISOString().split("T")[0],{data:r,setData:l,post:c,errors:v}=f({hari:"Senin",tanggal:n,pakets:{},daftar:0,modul:0,kaos:0,kas:0,lainlain:0}),m=e=>{e.preventDefault();const t={...r,daftar:parseInt(r.daftar)||0,modul:parseInt(r.modul)||0,kaos:parseInt(r.kaos)||0,kas:parseInt(r.kas)||0,lainlain:parseInt(r.lainlain)||0,pakets:Object.fromEntries(Object.entries(r.pakets).map(([x,k])=>[x,parseInt(k)||0]))};c("/admin/laporan/mitra/store",{data:t})},i=(e,t)=>{l("pakets",{...r.pakets,[e]:t})},s=e=>{e.target.value==="0"&&(e.target.value="")},d=(e,t)=>{(e.target.value===""||e.target.value===null||e.target.value===void 0)&&l(t,0)},u=e=>{e.target.value==="0"&&(e.target.value="")},b=(e,t)=>{(e.target.value===""||e.target.value===null||e.target.value===void 0)&&i(t,0)};return a.jsxs(g,{children:[a.jsx(h,{title:"Tambah Laporan Pemasukan Mitra"}),a.jsx("div",{className:"flex flex-col gap-9",children:a.jsxs("div",{className:"rounded-sm border border-stroke bg-white shadow-default dark:border-strokedark dark:bg-boxdark",children:[a.jsx("div",{className:"border-b border-stroke px-6.5 py-4 dark:border-strokedark",children:a.jsx("h3",{className:"font-medium text-black dark:text-white",children:"Laporan Pemasukan Mitra"})}),a.jsx("form",{onSubmit:m,children:a.jsxs("div",{className:"p-6.5",children:[a.jsxs("div",{className:"mb-4.5 flex flex-col gap-6 xl:flex-row",children:[a.jsxs("div",{className:"w-full",children:[a.jsx("label",{className:"mb-3 block text-sm font-medium text-black dark:text-white",children:"Hari"}),a.jsx("select",{className:"select select-bordered w-full",value:r.hari,onChange:e=>l("hari",e.target.value),children:["Senin","Selasa","Rabu","Kamis","Jumat","Sabtu","Minggu"].map(e=>a.jsx("option",{value:e,children:e},e))})]}),a.jsxs("div",{className:"w-full",children:[a.jsx("label",{className:"mb-3 block text-sm font-medium text-black dark:text-white",children:"Tanggal"}),a.jsx("input",{type:"date",className:"w-full rounded border px-3 py-2",value:r.tanggal,onChange:e=>l("tanggal",e.target.value)})]})]}),a.jsxs("div",{className:"mb-4.5",children:[a.jsx("label",{className:"mb-3 block text-sm font-medium text-black dark:text-white",children:"Paket"}),o&&o.map(e=>a.jsxs("div",{className:"mb-3",children:[a.jsxs("label",{className:"block text-sm text-black dark:text-white",children:[e.nama_paket," (Rp ",parseInt(e.harga).toLocaleString("id-ID"),")"]}),a.jsx("input",{type:"number",min:"0",className:"w-full rounded border-[1.5px] border-stroke bg-transparent px-5 py-3 text-black outline-none transition focus:border-primary active:border-primary disabled:cursor-default disabled:bg-whiter dark:border-form-strokedark dark:bg-form-input dark:text-white dark:focus:border-primary",value:r.pakets[e.id]||0,onChange:t=>i(e.id,t.target.value),onFocus:u,onBlur:t=>b(t,e.id)})]},e.id))]}),a.jsxs("div",{className:"mb-4.5 flex flex-col gap-6 xl:flex-row",children:[a.jsx("div",{className:"w-full xl:w-1/2",children:a.jsxs("div",{className:"mb-4.5",children:[a.jsx("label",{className:"mb-3 block text-sm font-medium text-black dark:text-white",children:"Pendaftaran"}),a.jsx("input",{type:"number",value:r.daftar,onChange:e=>l("daftar",e.target.value),onFocus:s,onBlur:e=>d(e,"daftar"),className:"w-full rounded border-[1.5px] border-stroke bg-transparent px-5 py-3 text-black outline-none transition focus:border-primary active:border-primary disabled:cursor-default disabled:bg-whiter dark:border-form-strokedark dark:bg-form-input dark:text-white dark:focus:border-primary"})]})}),a.jsx("div",{className:"w-full xl:w-1/2",children:a.jsxs("div",{className:"mb-4.5",children:[a.jsx("label",{className:"mb-3 block text-sm font-medium text-black dark:text-white",children:"Modul"}),a.jsx("input",{type:"number",value:r.modul,onChange:e=>l("modul",e.target.value),onFocus:s,onBlur:e=>d(e,"modul"),className:"w-full rounded border-[1.5px] border-stroke bg-transparent px-5 py-3 text-black outline-none transition focus:border-primary active:border-primary disabled:cursor-default disabled:bg-whiter dark:border-form-strokedark dark:bg-form-input dark:text-white dark:focus:border-primary"})]})})]}),a.jsxs("div",{className:"mb-4.5 flex flex-col gap-6 xl:flex-row",children:[a.jsx("div",{className:"w-full xl:w-1/2",children:a.jsxs("div",{className:"mb-4.5",children:[a.jsx("label",{className:"mb-3 block text-sm font-medium text-black dark:text-white",children:"Kaos"}),a.jsx("input",{type:"number",value:r.kaos,onChange:e=>l("kaos",e.target.value),onFocus:s,onBlur:e=>d(e,"kaos"),className:"w-full rounded border-[1.5px] border-stroke bg-transparent px-5 py-3 text-black outline-none transition focus:border-primary active:border-primary disabled:cursor-default disabled:bg-whiter dark:border-form-strokedark dark:bg-form-input dark:text-white dark:focus:border-primary"})]})}),a.jsx("div",{className:"w-full xl:w-1/2",children:a.jsxs("div",{className:"mb-4.5",children:[a.jsx("label",{className:"mb-3 block text-sm font-medium text-black dark:text-white",children:"Kas"}),a.jsx("input",{type:"number",value:r.kas,onChange:e=>l("kas",e.target.value),onFocus:s,onBlur:e=>d(e,"kas"),className:"w-full rounded border-[1.5px] border-stroke bg-transparent px-5 py-3 text-black outline-none transition focus:border-primary active:border-primary disabled:cursor-default disabled:bg-whiter dark:border-form-strokedark dark:bg-form-input dark:text-white dark:focus:border-primary"})]})})]}),a.jsx("div",{className:"mb-4.5",children:a.jsx("div",{className:"w-full",children:a.jsxs("div",{className:"mb-4.5",children:[a.jsx("label",{className:"mb-3 block text-sm font-medium text-black dark:text-white",children:"Lain Lain"}),a.jsx("input",{type:"number",value:r.lainlain,onChange:e=>l("lainlain",e.target.value),onFocus:s,onBlur:e=>d(e,"lainlain"),className:"w-full rounded border-[1.5px] border-stroke bg-transparent px-5 py-3 text-black outline-none transition focus:border-primary active:border-primary disabled:cursor-default disabled:bg-whiter dark:border-form-strokedark dark:bg-form-input dark:text-white dark:focus:border-primary"})]})})}),a.jsx("button",{type:"submit",className:"flex w-full justify-center rounded bg-primary p-3 font-medium text-gray hover:bg-opacity-90",children:"Submit"})]})})]})})]})};export{y as default};
