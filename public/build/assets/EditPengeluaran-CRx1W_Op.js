import{q as f,W as k,j as e}from"./app-CxGSB-fu.js";import{D as v}from"./DefaultLayout-yz6_CS4R.js";import"./index-DM5UpuYt.js";const _=()=>{const{cabangs:c,laporanCabang:t,users:j}=f().props,{data:a,setData:s,put:b,errors:w}=k({hari:t.hari,tanggal:t.tanggal,cabang_id:t.cabang_id,gurus:t.gurus&&t.gurus.length>0?t.gurus.map(r=>({guru_id:r.guru_nama||"",gaji:r.gaji||""})):[{guru_id:"",gaji:""}],atk:t.atk,sewa:t.sewa,intensif:t.intensif,lisensi:t.lisensi,thr:t.thr,lainlain:t.lainlain}),m=()=>{s("gurus",[...a.gurus,{guru_id:"",gaji:""}])},x=r=>{if(a.gurus.length>1){const l=a.gurus.filter((d,n)=>n!==r);s("gurus",l)}},u=(r,l,d)=>{const n=[...a.gurus];n[r][l]=d,s("gurus",n)},i=r=>{r.target.value==="0"&&(r.target.value="")},o=(r,l)=>{(r.target.value===""||r.target.value==="0")&&(s(l,0),r.target.value="0")},p=r=>{r.target.value==="0"&&(r.target.value="")},g=(r,l)=>{(r.target.value===""||r.target.value==="0")&&(u(l,"gaji",0),r.target.value="0")},h=r=>{r.preventDefault(),console.log("Submitting data:",a),b(`/admin/laporan/pengeluaran/${t.id}`,{onSuccess:()=>{console.log("Update successful")},onError:l=>{console.log("Update errors:",l)}})};return e.jsx(v,{children:e.jsx("div",{className:"flex flex-col gap-9",children:e.jsxs("div",{className:"rounded-sm border border-stroke bg-white shadow-default dark:border-strokedark dark:bg-boxdark",children:[e.jsx("div",{className:"border-b border-stroke px-6.5 py-4 dark:border-strokedark",children:e.jsx("h3",{className:"font-medium text-black dark:text-white",children:"Laporan Pengeluaran Cabang"})}),e.jsx("form",{onSubmit:h,children:e.jsxs("div",{className:"p-6.5",children:[e.jsxs("div",{className:"mb-4.5 flex flex-col gap-6 xl:flex-row",children:[e.jsxs("div",{className:"w-full",children:[e.jsx("label",{className:"mb-3 block text-sm font-medium text-black dark:text-white",children:"Hari"}),e.jsxs("select",{className:"select select-bordered w-full",value:a.hari,onChange:r=>s("hari",r.target.value),children:[e.jsx("option",{disabled:!0,selected:!0,children:"Pilih Hari"}),e.jsx("option",{value:"senin",children:"Senin"}),e.jsx("option",{value:"selasa",children:"Selasa"}),e.jsx("option",{value:"rabu",children:"Rabu"}),e.jsx("option",{value:"kamis",children:"Kamis"}),e.jsx("option",{value:"jumat",children:"Jumat"}),e.jsx("option",{value:"sabtu",children:"Sabtu"}),e.jsx("option",{value:"minggu",children:"Minggu"})]})]}),e.jsxs("div",{className:"w-full",children:[e.jsx("label",{className:"mb-3 block text-sm font-medium text-black dark:text-white",children:"Tanggal"}),e.jsx("input",{type:"date",className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5",value:a.tanggal,onChange:r=>s("tanggal",r.target.value),placeholder:"Select date"})]})]}),e.jsx("div",{className:"mb-4.5 flex flex-col gap-6 xl:flex-row",children:e.jsxs("div",{className:"w-full",children:[e.jsx("label",{className:"mb-3 block text-sm font-medium text-black dark:text-white",children:"Cabang"}),e.jsxs("select",{className:"select select-bordered w-full",value:a.cabang_id,onChange:r=>s("cabang_id",r.target.value),children:[e.jsx("option",{disabled:!0,selected:!0,children:"Pilih Cabang"}),c.map(r=>e.jsx("option",{value:r.id,children:r.nama},r.id))]})]})}),e.jsxs("div",{className:"mb-4.5",children:[e.jsx("label",{className:"mb-3 block text-sm font-medium text-black dark:text-white",children:"Data Guru"}),a.gurus.map((r,l)=>e.jsxs("div",{className:"mb-3 flex flex-col gap-4 xl:flex-row xl:items-end",children:[e.jsx("div",{className:"w-full xl:w-1/2",children:e.jsx("input",{type:"text",value:r.guru_id,onChange:d=>u(l,"guru_id",d.target.value),className:"w-full rounded border-[1.5px] border-stroke bg-transparent px-5 py-3 text-black outline-none transition focus:border-primary active:border-primary disabled:cursor-default disabled:bg-whiter dark:border-form-strokedark dark:bg-form-input dark:text-white dark:focus:border-primary",placeholder:"Nama Guru"})}),e.jsx("div",{className:"w-full xl:w-1/2",children:e.jsx("input",{type:"number",value:r.gaji,onChange:d=>u(l,"gaji",d.target.value),onFocus:p,onBlur:d=>g(d,l),className:"w-full rounded border-[1.5px] border-stroke bg-transparent px-5 py-3 text-black outline-none transition focus:border-primary active:border-primary disabled:cursor-default disabled:bg-whiter dark:border-form-strokedark dark:bg-form-input dark:text-white dark:focus:border-primary",placeholder:"Gaji"})}),a.gurus.length>1&&e.jsx("div",{className:"xl:w-auto",children:e.jsx("button",{type:"button",onClick:()=>x(l),className:"rounded bg-red-600 px-4 py-3 text-white hover:bg-opacity-90",title:"Hapus Guru",children:"âœ•"})})]},l)),e.jsx("button",{type:"button",onClick:m,className:"mb-4 rounded bg-blue-600 px-6 py-2 text-white hover:bg-opacity-90",children:"+ Tambah Guru"})]}),e.jsx("div",{className:"mb-4.5 flex flex-col gap-6 xl:flex-row",children:e.jsx("div",{className:"w-full",children:e.jsxs("div",{className:"mb-4.5",children:[e.jsx("label",{className:"mb-3 block text-sm font-medium text-black dark:text-white",children:"ATK"}),e.jsx("input",{type:"text",value:a.atk,onChange:r=>s("atk",r.target.value),onFocus:i,onBlur:r=>o(r,"atk"),placeholder:"",className:"w-full rounded border-[1.5px] border-stroke bg-transparent px-5 py-3 text-black outline-none transition focus:border-primary active:border-primary disabled:cursor-default disabled:bg-whiter dark:border-form-strokedark dark:bg-form-input dark:text-white dark:focus:border-primary"})]})})}),e.jsxs("div",{className:"mb-4.5 flex flex-col gap-6 xl:flex-row",children:[e.jsx("div",{className:"w-full xl:w-1/2",children:e.jsxs("div",{className:"mb-4.5",children:[e.jsx("label",{className:"mb-3 block text-sm font-medium text-black dark:text-white",children:"sewa"}),e.jsx("input",{type:"text",value:a.sewa,onChange:r=>s("sewa",r.target.value),onFocus:i,onBlur:r=>o(r,"sewa"),placeholder:"sewa",className:"w-full rounded border-[1.5px] border-stroke bg-transparent px-5 py-3 text-black outline-none transition focus:border-primary active:border-primary disabled:cursor-default disabled:bg-whiter dark:border-form-strokedark dark:bg-form-input dark:text-white dark:focus:border-primary"})]})}),e.jsx("div",{className:"w-full xl:w-1/2",children:e.jsxs("div",{className:"mb-4.5",children:[e.jsx("label",{className:"mb-3 block text-sm font-medium text-black dark:text-white",children:"Intensif"}),e.jsx("input",{type:"text",value:a.intensif,onChange:r=>s("intensif",r.target.value),onFocus:i,onBlur:r=>o(r,"intensif"),placeholder:"",className:"w-full rounded border-[1.5px] border-stroke bg-transparent px-5 py-3 text-black outline-none transition focus:border-primary active:border-primary disabled:cursor-default disabled:bg-whiter dark:border-form-strokedark dark:bg-form-input dark:text-white dark:focus:border-primary"})]})})]}),e.jsxs("div",{className:"mb-4.5 flex flex-col gap-6 xl:flex-row",children:[e.jsx("div",{className:"w-full xl:w-1/2",children:e.jsxs("div",{className:"mb-4.5",children:[e.jsx("label",{className:"mb-3 block text-sm font-medium text-black dark:text-white",children:"Lisensi"}),e.jsx("input",{type:"text",value:a.lisensi,onChange:r=>s("lisensi",r.target.value),onFocus:i,onBlur:r=>o(r,"lisensi"),placeholder:"",className:"w-full rounded border-[1.5px] border-stroke bg-transparent px-5 py-3 text-black outline-none transition focus:border-primary active:border-primary disabled:cursor-default disabled:bg-whiter dark:border-form-strokedark dark:bg-form-input dark:text-white dark:focus:border-primary"})]})}),e.jsx("div",{className:"w-full xl:w-1/2",children:e.jsxs("div",{className:"mb-4.5",children:[e.jsx("label",{className:"mb-3 block text-sm font-medium text-black dark:text-white",children:"THR"}),e.jsx("input",{type:"number",value:a.thr,onChange:r=>s("thr",r.target.value),onFocus:i,onBlur:r=>o(r,"thr"),placeholder:"",className:"w-full rounded border-[1.5px] border-stroke bg-transparent px-5 py-3 text-black outline-none transition focus:border-primary active:border-primary disabled:cursor-default disabled:bg-whiter dark:border-form-strokedark dark:bg-form-input dark:text-white dark:focus:border-primary"})]})})]}),e.jsx("div",{className:"mb-4.5 flex flex-col gap-6 xl:flex-row",children:e.jsx("div",{className:"w-full xl:w-1/2",children:e.jsxs("div",{className:"mb-4.5",children:[e.jsx("label",{className:"mb-3 block text-sm font-medium text-black dark:text-white",children:"Lain Lain"}),e.jsx("input",{type:"number",value:a.lainlain,onChange:r=>s("lainlain",r.target.value),onFocus:i,onBlur:r=>o(r,"lainlain"),placeholder:"",className:"w-full rounded border-[1.5px] border-stroke bg-transparent px-5 py-3 text-black outline-none transition focus:border-primary active:border-primary disabled:cursor-default disabled:bg-whiter dark:border-form-strokedark dark:bg-form-input dark:text-white dark:focus:border-primary"})]})})}),e.jsx("button",{type:"submit",className:"flex w-full justify-center rounded bg-primary p-3 font-medium text-gray hover:bg-opacity-90",children:"Submit"})]})})]})})})};export{_ as default};
