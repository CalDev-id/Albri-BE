import{q as g,r as n,j as e,a as d,y as c}from"./app-CXdMTpYp.js";import{D as y}from"./DefaultLayout-DtOoDWeC.js";import{p as f,h as j,F as k,a as N}from"./index-BL5ZF4lq.js";import"./index-DSkYJTSc.js";const C=()=>{const{newsEvents:s,filters:x}=g().props,[l,o]=n.useState(x.search||""),[r,m]=n.useState(x.status||""),h=t=>{t.preventDefault();const a={};l&&l!==""&&(a.search=l),r&&r!==""&&(a.status=r),c.get("/admin/news-events",a,{preserveState:!0})},i=t=>{m(t);const a={search:l};t&&t!==""&&(a.status=t),c.get("/admin/news-events",a,{preserveState:!0})},p=t=>({published:"bg-green-100 text-green-800",draft:"bg-yellow-100 text-yellow-800"})[t]||"bg-gray-100 text-gray-800",u=t=>new Date(t).toLocaleDateString("id-ID",{year:"numeric",month:"long",day:"numeric"});return e.jsx(y,{children:e.jsxs("div",{className:"col-span-12 rounded-sm border border-stroke bg-white py-6 shadow-default dark:border-strokedark dark:bg-boxdark",children:[e.jsxs("div",{className:"flex justify-between px-7.5 mb-6",children:[e.jsx("h4",{className:"text-xl font-semibold text-black dark:text-white",children:"Postingan"}),e.jsx(d,{href:"/admin/news-events/create",children:e.jsxs("button",{className:"bg-primary text-white px-4 py-2 rounded hover:bg-opacity-90 flex items-center gap-2",children:[e.jsx(f,{size:14}),"Tambah Postingan"]})})]}),e.jsx("div",{className:"px-7.5 mb-6",children:e.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[e.jsxs("form",{onSubmit:h,className:"flex gap-2 flex-1",children:[e.jsx("input",{type:"text",placeholder:"Cari berdasarkan judul...",value:l,onChange:t=>o(t.target.value),className:"px-4 py-2 border rounded flex-1 dark:bg-gray-800 dark:text-white dark:border-gray-600"}),e.jsx("button",{type:"submit",className:"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600",children:"Cari"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>i(""),className:`px-4 py-2 rounded ${r===""?"bg-primary text-white":"bg-gray-200 text-gray-700"}`,children:"Semua"}),e.jsx("button",{onClick:()=>i("published"),className:`px-4 py-2 rounded ${r==="published"?"bg-green-500 text-white":"bg-gray-200 text-gray-700"}`,children:"Published"}),e.jsx("button",{onClick:()=>i("draft"),className:`px-4 py-2 rounded ${r==="draft"?"bg-yellow-500 text-white":"bg-gray-200 text-gray-700"}`,children:"Draft"})]})]})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full table-auto",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-2 dark:bg-meta-4",children:[e.jsx("th",{className:"py-4 px-4 text-left text-sm font-medium text-black dark:text-white",children:"No"}),e.jsx("th",{className:"py-4 px-4 text-left text-sm font-medium text-black dark:text-white",children:"Judul"}),e.jsx("th",{className:"py-4 px-4 text-left text-sm font-medium text-black dark:text-white",children:"Status"}),e.jsx("th",{className:"py-4 px-4 text-left text-sm font-medium text-black dark:text-white",children:"Penulis"}),e.jsx("th",{className:"py-4 px-4 text-left text-sm font-medium text-black dark:text-white",children:"Tanggal Publish"}),e.jsx("th",{className:"py-4 px-4 text-center text-sm font-medium text-black dark:text-white",children:"Actions"})]})}),e.jsx("tbody",{children:s.data.map((t,a)=>e.jsxs("tr",{className:"border-b border-stroke dark:border-strokedark",children:[e.jsx("td",{className:"py-4 px-4 text-sm text-black dark:text-white",children:s.from+a}),e.jsx("td",{className:"py-4 px-4 text-sm text-black dark:text-white",children:e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:t.title}),t.excerpt&&e.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[t.excerpt.substring(0,100),"..."]})]})}),e.jsx("td",{className:"py-4 px-4 text-sm",children:e.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${p(t.status)}`,children:t.status==="published"?"Published":"Draft"})}),e.jsx("td",{className:"py-4 px-4 text-sm text-black dark:text-white",children:t.creator?t.creator.name:"-"}),e.jsx("td",{className:"py-4 px-4 text-sm text-black dark:text-white",children:t.published_at?u(t.published_at):"-"}),e.jsx("td",{className:"py-4 px-4 text-center",children:e.jsxs("div",{className:"flex justify-center gap-3",children:[e.jsx(d,{href:`/admin/news-events/${t.id}`,children:e.jsx(j,{className:"text-blue-500 hover:text-blue-700 cursor-pointer",title:"Lihat"})}),e.jsx(d,{href:`/admin/news-events/${t.id}/edit`,children:e.jsx(k,{className:"text-yellow-500 hover:text-yellow-700 cursor-pointer",title:"Edit"})}),e.jsx(d,{href:`/admin/news-events/${t.id}`,method:"delete",as:"button",onClick:b=>{confirm("Apakah Anda yakin ingin menghapus postingan ini?")||b.preventDefault()},children:e.jsx(N,{className:"text-red-500 hover:text-red-700 cursor-pointer",title:"Hapus"})})]})})]},t.id))})]})}),s.data.length===0&&e.jsx("div",{className:"text-center py-8 text-gray-500",children:"Tidak ada postingan yang ditemukan."}),s.links&&e.jsx("div",{className:"px-7.5 py-4",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{className:"text-sm text-gray-500",children:["Menampilkan ",s.from," - ",s.to," dari ",s.total," data"]}),e.jsx("div",{className:"flex gap-2",children:s.links.map((t,a)=>e.jsx(d,{href:t.url,className:`px-3 py-1 rounded ${t.active?"bg-primary text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"} ${t.url?"":"opacity-50 cursor-not-allowed"}`,preserveState:!0,dangerouslySetInnerHTML:{__html:t.label}},a))})]})})]})})};export{C as default};
